"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),OnePage=function(){function e(t){_classCallCheck(this,e),this.animComplete=!0,this.mode=t.mode,this.container=t.containerId,this.navbar=t.navbar||!1}return _createClass(e,[{key:"stackMode",value:function(e,t){for(var n=this,r=e.length,a=0,o=0;o<r;o++)e[o].style.zIndex=r-o,e[o].addEventListener("transitionend",function(e){n.animComplete=!0});if(window.addEventListener("wheel",function(t){if(!n.animComplete)return!1;t.deltaY>0&&a!==r-1?(n.animComplete=!1,e[a].classList.toggle("outofview"),a++):t.deltaY<0&&a&&(n.animComplete=!1,a--,e[a].classList.toggle("outofview"))}),void 0===t)return 0;for(var t=t,i=0;i<t.length;i++)!function(o){t[o].addEventListener("click",function(t){if(!n.animComplete)return!1;if(o>a&&a!==r-1){n.animComplete=!1;for(var i=a;i<o;i++)e[i].classList.toggle("outofview");a=o}else if(o<a&&a){n.animComplete=!1;for(var l=a-1;l>=o;l--)e[l].classList.toggle("outofview");a=o}})}(i)}},{key:"normalMode",value:function(e,t,n){var r=this,a=t.length-1,o=0,i=0,l=document.querySelector(".navbar");if(e.addEventListener("transitionend",function(e){r.animComplete=!0}),window.addEventListener("wheel",function(t){if(!r.animComplete)return!1;t.deltaY>0&&i!==a?(r.animComplete=!1,o+=-100,l.style.transform="translateY("+Math.abs(o)+"vh)",e.style.transform="translateY("+o+"vh)",i++):t.deltaY<0&&i&&(r.animComplete=!1,o+=100,l.style.transform="translateY("+Math.abs(o)+"vh)",e.style.transform="translateY("+o+"vh)",i--)}),void 0===n)return 0;for(var n=n,s=0;s<n.length;s++)!function(t){n[t].addEventListener("click",function(n){if(!r.animComplete)return!1;var a=t*-100;a>o?(r.animComplete=!1,o=a,l.style.transform="translateY("+Math.abs(o)+"vh)",e.style.transform="translateY("+o+"vh)",i=t):a<o&&(r.animComplete=!1,o=a,l.style.transform="translateY("+Math.abs(o)+"vh)",e.style.transform="translateY("+o+"vh)",i=t)})}(s)}},{key:"initPage",value:function(){var e,t=document.querySelectorAll(".section");if(!t.length)return console.error("Couldn't fetch elements");if(!this.mode)return console.error("You need to specify mode");if(this.navbar&&(e=document.querySelectorAll(".link")),"stack"===this.mode)this.stackMode(t,e);else{if("normal"!==this.mode)return console.error("Unknown mode value");var n=document.querySelector(this.container);if(null===n)return console.error("Couldn't fetch element");this.normalMode(n,t,e)}}}]),e}();