"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),OnePage=function(){function e(t){_classCallCheck(this,e),this.animComplete=!0,this.mode=t.mode,this.container=t.containerId,this.navbar=t.navbar||!1}return _createClass(e,[{key:"stackMode",value:function(e,t){for(var n=this,a=e.length,o=0,s=0;s<a;s++)e[s].style.zIndex=a-s,e[s].addEventListener("transitionend",function(e){n.animComplete=!0});window.addEventListener("wheel",function(s){if(!n.animComplete)return!1;t[o].classList.toggle("active"),s.deltaY>0&&o!==a-1?(n.animComplete=!1,e[o].classList.toggle("outofview"),o++,t[o].classList.toggle("active")):s.deltaY<0&&o&&(n.animComplete=!1,o--,t[o].classList.toggle("active"),e[o].classList.toggle("outofview"))});for(var l=0;l<t.length;l++)!function(s){t[s].addEventListener("click",function(l){if(!n.animComplete)return!1;if(t[o].classList.toggle("active"),t[s].classList.toggle("active"),s>o&&o!==a-1){n.animComplete=!1;for(var i=o;i<s;i++)e[i].classList.toggle("outofview");o=s}else if(s<o&&o){n.animComplete=!1;for(var r=o-1;r>=s;r--)e[r].classList.toggle("outofview");o=s}})}(l)}},{key:"normalMode",value:function(e,t,n){var a=this,o=t.length-1,s=0,l=0,i=document.querySelector(".navbar");e.addEventListener("transitionend",function(e){a.animComplete=!0}),window.addEventListener("wheel",function(t){if(!a.animComplete)return!1;n[l].classList.toggle("active"),t.deltaY>0&&l!==o?(a.animComplete=!1,s+=-100,i.style.transform="translateY("+Math.abs(s)+"vh)",e.style.transform="translateY("+s+"vh)",l++,n[l].classList.toggle("active")):t.deltaY<0&&l&&(a.animComplete=!1,s+=100,i.style.transform="translateY("+Math.abs(s)+"vh)",e.style.transform="translateY("+s+"vh)",l--,n[l].classList.toggle("active"))});for(var r=0;r<n.length;r++)!function(t){n[t].addEventListener("click",function(o){if(!a.animComplete)return!1;var r=t*-100;n[l].classList.toggle("active"),r>s?(a.animComplete=!1,s=r,i.style.transform="translateY("+Math.abs(s)+"vh)",e.style.transform="translateY("+s+"vh)",l=t,n[l].classList.toggle("active")):r<s&&(a.animComplete=!1,s=r,i.style.transform="translateY("+Math.abs(s)+"vh)",e.style.transform="translateY("+s+"vh)",l=t,n[l].classList.toggle("active"))})}(r)}},{key:"initPage",value:function(){var e,t=document.querySelectorAll(".section");if(!t.length)return console.error("Couldn't fetch elements");if(!this.mode)return console.error("You need to specify mode");if(this.navbar&&(e=document.querySelectorAll(".link")),"stack"===this.mode)this.stackMode(t,e);else{if("normal"!==this.mode)return console.error("Unknown mode value");var n=document.querySelector(this.container);if(null===n)return console.error("Couldn't fetch element");this.normalMode(n,t,e)}}}]),e}();