"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),OnePage=function(){function e(t){_classCallCheck(this,e),this.animComplete=!0,this.mode=t.mode,this.container=t.containerId,this.navbar=t.navbar||!1}return _createClass(e,[{key:"stackMode",value:function(e,t){function n(){if(!s)return!1;this.animComplete=!1,t[s].classList.toggle("active"),s--,t[s].classList.toggle("active"),e[s].classList.toggle("outofview")}function a(){if(s===l-1)return!1;this.animComplete=!1,t[s].classList.toggle("active"),e[s].classList.toggle("outofview"),s++,t[s].classList.toggle("active")}for(var i=this,l=e.length,s=0,o=0;o<l;o++)e[o].style.zIndex=l-o,e[o].addEventListener("transitionend",function(e){i.animComplete=!0});window.addEventListener("keydown",function(e){if(37===e.which||39===e.which);else{if(38!==e.which&&40!==e.which)return;38===e.which?n.call(i):a.call(i)}}),window.addEventListener("wheel",function(e){if(!i.animComplete)return!1;e.deltaY>0?a.call(i):e.deltaY<0&&n.call(i)});for(var r=0;r<t.length;r++)!function(n){t[n].addEventListener("click",function(a){if(!i.animComplete)return!1;if(t[s].classList.toggle("active"),t[n].classList.toggle("active"),n>s&&s!==l-1){i.animComplete=!1;for(var o=s;o<n;o++)e[o].classList.toggle("outofview");s=n}else if(n<s&&s){i.animComplete=!1;for(var r=s-1;r>=n;r--)e[r].classList.toggle("outofview");s=n}})}(r)}},{key:"normalMode",value:function(e,t,n){var a=this,i=t.length-1,l=0,s=0,o=document.querySelector(".navbar");e.addEventListener("transitionend",function(e){a.animComplete=!0}),window.addEventListener("wheel",function(t){if(!a.animComplete)return!1;t.deltaY>0&&s!==i?(a.animComplete=!1,l+=-100,n[s].classList.toggle("active"),o.style.transform="translateY("+Math.abs(l)+"vh)",e.style.transform="translateY("+l+"vh)",s++,n[s].classList.toggle("active")):t.deltaY<0&&s&&(a.animComplete=!1,l+=100,n[s].classList.toggle("active"),o.style.transform="translateY("+Math.abs(l)+"vh)",e.style.transform="translateY("+l+"vh)",s--,n[s].classList.toggle("active"))});for(var r=0;r<n.length;r++)!function(t){n[t].addEventListener("click",function(i){if(!a.animComplete)return!1;var r=t*-100;r>l?(a.animComplete=!1,l=r,n[s].classList.toggle("active"),o.style.transform="translateY("+Math.abs(l)+"vh)",e.style.transform="translateY("+l+"vh)",s=t,n[s].classList.toggle("active")):r<l&&(a.animComplete=!1,l=r,n[s].classList.toggle("active"),o.style.transform="translateY("+Math.abs(l)+"vh)",e.style.transform="translateY("+l+"vh)",s=t,n[s].classList.toggle("active"))})}(r)}},{key:"initPage",value:function(){var e,t=document.querySelectorAll(".section");if(!t.length)return console.error("Couldn't fetch elements");if(!this.mode)return console.error("You need to specify mode");if(this.navbar&&(e=document.querySelectorAll(".link")),"stack"===this.mode)this.stackMode(t,e);else{if("normal"!==this.mode)return console.error("Unknown mode value");var n=document.querySelector(this.container);if(null===n)return console.error("Couldn't fetch element");this.normalMode(n,t,e)}}}]),e}();